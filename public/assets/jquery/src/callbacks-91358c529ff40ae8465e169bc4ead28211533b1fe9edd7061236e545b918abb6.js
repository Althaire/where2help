define(["./core","./var/rnotwhite"],function(e,t){function n(n){var i=r[n]={};return e.each(n.match(t)||[],function(e,t){i[t]=!0}),i}var r={};return e.Callbacks=function(t){t="string"==typeof t?r[t]||n(t):e.extend({},t);var i,a,o,s,u,l,c=[],d=!t.once&&[],f=function(e){for(i=t.memory&&e,a=!0,l=s||0,s=0,u=c.length,o=!0;c&&u>l;l++)if(c[l].apply(e[0],e[1])===!1&&t.stopOnFalse){i=!1;break}o=!1,c&&(d?d.length&&f(d.shift()):i?c=[]:h.disable())},h={add:function(){if(c){var n=c.length;!function r(n){e.each(n,function(n,i){var a=e.type(i);"function"===a?t.unique&&h.has(i)||c.push(i):i&&i.length&&"string"!==a&&r(i)})}(arguments),o?u=c.length:i&&(s=n,f(i))}return this},remove:function(){return c&&e.each(arguments,function(t,n){for(var r;(r=e.inArray(n,c,r))>-1;)c.splice(r,1),o&&(u>=r&&u--,l>=r&&l--)}),this},has:function(t){return t?e.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],u=0,this},disable:function(){return c=d=i=void 0,this},disabled:function(){return!c},lock:function(){return d=void 0,i||h.disable(),this},locked:function(){return!d},fireWith:function(e,t){return!c||a&&!d||(t=t||[],t=[e,t.slice?t.slice():t],o?d.push(t):f(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!a}};return h},e});